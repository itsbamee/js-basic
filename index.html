<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JS- basic</title>
</head>

<body>
  <script>
    /*
      원시형자료 : (Deep copy: 완전복사) - 메모리에 담겨있는 값을 물리적으로 복사
      참조형자료 : (Shallow copy: 얕은복사) - 메모리에 담겨있는 참조링크만 복사 (원본값은 그대로 있음)
    */

    let text1 = 'hello';
    let text2 = text1;
    text2 = 'hello2';
    console.log(text2);
    console.log(text1);
    //원시형자료를 복사하면 복사본을 수정했을때 원본은 그대로 유지가됨 (deep copy, immutable)불변성 유지

    let colors1 = ['red', 'green', 'blue'];
    let colors2 = colors1;
    colors2[0] = 'hotpink';
    console.log(colors2);
    console.log(colors1);
    //참조형 자료를 복사하면 변수에는 원래 값이 담기는 것이 아닌 해당값의 위치값이 담기기 때문에
    //변수의 값음 옮겨서 복사해도 원본의 값이 복사되는 것이 아닌 같은 값을 참조하는 참조링크만 복사되는 shallow  copy
    //참조형 자료의 변수를 복사하면 복사된 값을 수정했을때 원본도 같이 바뀜 (원본데이터가 훼손됨) 불변성 유지가 안됨

    //전개연산자 (Spread Operator) 참조형값을 일일 꺼내와서 전개한다음에 복사
    //배열이나 객체같은 참조형자료도 Deep copy가능
    let hobby1 = ['game', 'food', 'nap'];
    let hobby2 = [...hobby1]
    hobby2[0] = 'study';
    console.log(hobby2);
    console.log(hobby1);

    let man = {
      name: 'David',
      age: 20,
    }

    let woman = { ...man };
    woman.name = 'Emily'
    console.log(woman)
    console.log(man)

    //위와 같이 원본을 훼손시키지 않고 복사본을 만들어야 되는 deep copy가 프론트엔드 개발에서 중요한 이유
    //리액트는 화면을 재랜더링할때 원본을 가지고 있어야지 원본대비 변경점을 인지해서 변경점을 다시 랜더링 처리 (메모리상에서)
  </script>
</body>

</html>